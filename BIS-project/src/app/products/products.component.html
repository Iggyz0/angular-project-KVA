<div fxFlex fxLayout="column wrap">
    <mat-form-field color='primary' fxFlexAlign="center">
        <input type="text" ngModel matInput placeholder="Search products..." name="search"
        search #searchInput="ngModel" (keyup) = "search(searchInput.value)">
    </mat-form-field>
    <div fxFlex fxLayout="row wrap">
        <div fxFlex="20%" fxLayout="column wrap" fxLayoutAlign="start center">
            <p>Filter search results:</p>
            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Price range:</p>
                <ngx-slider
                [(value)]="minValuePrice"
                [(highValue)]="maxValuePrice"
                [options]="optionsPrice"
                >
                </ngx-slider>
            </div>

            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Category:</p>
                <mat-form-field appearance="fill">
                    <mat-label>Category</mat-label>
                    <mat-select [(ngModel)]="catValue">
                      <mat-option *ngFor="let test of cat | keyvalue" [value]="test.key" >
                        {{test.key}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>

            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Sub-category:</p>
                <mat-form-field appearance="fill">
                    <mat-label>Sub-category</mat-label>
                    <mat-select [(ngModel)]="subCatValue">
                      <mat-option *ngFor="let test of cat.get(catValue)" [value]="test">
                        {{test}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>

            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Score:</p>
                <ngx-slider
                [(value)]="minValueScore"
                [(highValue)]="maxValueScore"
                [options]="optionsScore"
                >
                </ngx-slider>
            </div>

            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Quantity:</p>
                <ngx-slider
                [(value)]="minValueStock"
                [(highValue)]="maxValueStock"
                [options]="optionsStock"
                >
                </ngx-slider>
            </div>

            <div fxFlex fxFill fxLayout="column wrap" class="eighty-percent">
                <p>Distance:</p>
            </div>
        </div>
        <div fxFlex="80%" fxLayout="row wrap" fxLayoutAlign="start start" fxLayoutGap="5px">
            <mat-card class="example-card" *ngFor="let product of data" fxFlex fxLayout="column wrap" fxLayoutAlign="center center" fxLayoutGap="5px" (click)="singleProductDetails(product.id)">
                <mat-card-content fxFlex fxLayout="column wrap" fxLayoutAlign="center center">
                    <img mat-card-image
                    src="{{product.imagePath}}"
                    alt="{{product.name}}" class="matCardImage" >
                </mat-card-content>
                <mat-card-header fxFlex fxLayout="row nowrap" fxLayoutAlign="center start">
                    <mat-card-title fxFlex="50%" class="dont-break-out truncate">{{ product.name }}</mat-card-title>
                    <mat-card-subtitle  fxFlex="50%" >
                        <mat-icon color="accent" class="icon-rating">star</mat-icon><span> {{ product.score }}</span> ,
                        <mat-icon color="primary" class="icon-price">attach_money</mat-icon><span> {{ product.price }}</span>
                    </mat-card-subtitle>
                </mat-card-header>
            </mat-card>
        </div>
    </div>
</div>
